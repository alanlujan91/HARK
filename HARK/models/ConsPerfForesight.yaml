description: "MNW's first attempt at a perfect foresight model in YAML"
symbols:
  parameters:
    - Rfree
    - PermGroFac
    - LivPrb
  functions:
    - cFunc
  pre_states:
    - kNrm
    - pLvlPrev
  solution:
    - cFunc
  offset:
    - PermGroFac
    - Rfree
initialize: |
  pLvlPrev = 1                     \\ set initial permanent income to one
  kNrm = 10.                       \\ set initial capital holdings to ten
dynamics: |
  yNrm = 1.0                       \\ normalized income is constant in PF setting
  G    = PermGroFac                \\ designate permanent income growth
  pLvl = pLvlPrev * G              \\ update permanent income level
  bNrm = Rfree * kNrm / G          \\ calculate normalized bank balances
  mNrm = bNrm + yLvl               \\ calculate normalized market resources
  cNrm = cFunc@(mNrm)              \\ evaluate consumption from market resources
  aNrm = mNrm - cNrm               \\ calculate normalized end-of-period assets
  live ~ {LivPrb}                  \\ draw survivors
  dead = 1 - live                  \\ dead are non-survivors
twist:
  aNrm: kNrm
  pLvl: pLvlPrev
